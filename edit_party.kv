#:import Pokemon pokedata.pokemon.Pokemon
#:import DORYOKU_PRESET pokedata.const.DORYOKU_PRESET
#:import * gui
#:include gui.kv
#:import * gui_party
#:include gui_party.kv
#:include kivy_gui/popup.kv

<EditPartyWidget>
    partyPokemonPanels: [0,1,2,3,4,5]
    GridLayout:
        cols:3
        rows:3
        padding: [5, 5]
        spacing: [5, 5]
        BoxLayout:
            size_hint_y: 0.5
            AnchorLayout:
                anchor_x:"center"
                anchor_y:"center"
                Button:
                    text: "CSVを開く" 
                    height: 70
                    size_hint_y: None
            Label:
                text:"番号"
            AnchorLayout:
                anchor_x:"center"
                anchor_y:"center"
                TextInput:
                    size_hint_y: None
                    text:root.num
                    height: 40
                    multiline: False
            Label:
                text:"連番"
            AnchorLayout:
                anchor_x:"center"
                anchor_y:"center"
                TextInput:
                    size_hint_y: None
                    text:root.sub_num
                    height: 40
                    multiline: False
        BoxLayout:
            size_hint_y: 0.5
            Label:
                size_hint_x: 1
                text:"タイトル"
            AnchorLayout:
                size_hint_x: 4
                anchor_x:"center"
                anchor_y:"center"
                TextInput:
                    size_hint_y: None
                    text:root.title
                    height: 40
                    multiline: False
            AnchorLayout:
                size_hint_x: 1
                anchor_x:"center"
                anchor_y:"center"
                Button:
                    size_hint_y: None
                    text: "保存"
                    height: 40
                    on_release: root.save_csv
        BoxLayout:
            size_hint_y: 0.5
            Label:
                size_hint_x: 2
                text:"使用するパーティ"
            AnchorLayout:
                size_hint_x: 4
                anchor_x:"center"
                anchor_y:"center"
                Label:
                    size_hint_y: None
                    text:root.using_csv
                    height: 40
            AnchorLayout:
                size_hint_x: 1
                anchor_x:"center"
                anchor_y:"center"
                Button:
                    size_hint_y: None
                    text: "変更"
                    height: 40
                    on_release: root.change_using_csv
        PartyPokemonPanel:
            id: 0
            num: "1"
            size_hint_y: 2
        PartyPokemonPanel:
            id: 1
            num: "2"
            size_hint_y: 2
        PartyPokemonPanel:
            id: 2
            num: "3"
            size_hint_y: 2
        PartyPokemonPanel:
            id: 3
            num: "4"
            size_hint_y: 2
        PartyPokemonPanel:
            id: 4
            num: "5"
            size_hint_y: 2
        PartyPokemonPanel:
            id: 5
            num: "6"
            size_hint_y: 2