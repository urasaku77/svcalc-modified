#:import * gui
#:include gui.kv

<ChosenPokemonPanel>
    icon: _icon
    evs_combobox: _evs_combobox
    teras_button: _teras_button
    chosenWazaListPanel: chosenWazaListPanel
    BoxLayout:
        orientation: "vertical"
        spacing:5
        BoxLayout:
            BoxLayout:
                size_hint_x: None
                width: 60
                orientation: "vertical"
                IconButton:
                    id: _icon
                    icon: root.pokemon.icon if root.pokemon is not None else ""
                    size_hint: None, None
                    size: 60, 60
                    on_release: root.dispatch("on_click_icon")
                IconButton:
                    id: _teras_button
                    size_hint_y: None
                    height: 30
                    icon: root.battle_terastype_icon
                    font_size: 14
                    on_release: root.select_terastype()
                IconButton:
                    id: _formchange_icon
                    icon: root.pokemon.next_form_icon if root.pokemon is not None else ""
                    size_hint_y: None
                    height: 30
                    on_release: root.form_change()
            GridLayout:
                cols: 2
                rows: 4
                spacing: 5
                ShortLabel:
                    text: "ステータス"
                DropDownButton:
                    id: _evs_combobox
                    text: root.pokemon.marked_status_text if root.pokemon is not None else ""
                    items: DORYOKU_PRESET.keys()
                    font_size: dp(12)
                    on_select_item: root.on_select_doryoku_preset(self.button_text)
                ShortLabel:
                    text: "持ち物"
                DropDownButton:
                    text: root.pokemon.item if root.pokemon is not None else ""
                    image_enable: True
                    items: ["なし", "こだわりハチマキ", "こだわりメガネ", "いのちのたま", "たつじんのおび", "とつげきチョッキ", "しんかのきせき", "ブーストエナジー"]
                    on_select_item: root.pokemon.item = self.button_text
                ShortLabel:
                    text: "特性"
                DropDownButton:
                    items: root.pokemon.abilities if root.pokemon is not None else ""
                    text: root.pokemon.ability if root.pokemon is not None else ""
                    on_select_item: root.pokemon.ability = self.button_text
        ChosenWazaListPanel:
            id: chosenWazaListPanel

<TimerLabel>:
    BoxLayout:
        orientation: "vertical"
        spacing: 15
        Label:
            text: root.minutes+":"+root.seconds
            size_hint_y: 2
            font_size: 0.9*self.height
        BoxLayout:
            size_hint_y: 1
            Button:
                text: root.state
                on_release: root.toggle()
            Button:
                text: "リセット"
                on_release: root.reset()
